<div>
  <h3>My Spotify Playlists</h3>
  <div class="spotify_playlists_container">
    <ol>
      <% @playlists.each do |playlist| %>
        <div class="spotify_playlist_container">
        <%= form_for(@setlist) do |f| %>
          <%= f.hidden_field :name, value: playlist[:name] %>
          <%= f.hidden_field :list_spotify_url, value: playlist[:url] %>
          <%# This is a good example of someone should audit the views and make sure that your calculations all happen in controllers %>
          <%= f.hidden_field :invite_code, value: SecureRandom.uuid.slice(0,5) %>
          <li> <%= f.submit playlist[:name]%> </li>
        <% end %>
        </div>
      <% end %>
    </ol>
  </div>

  <div class="create_setlist_form">
    <h3>Make a new playlist</h3>
    <%= form_for @setlist do |f| %>
      <%= f.text_field :name %>
      <%= f.hidden_field :new_setlist, value: true %>
      <%= f.submit %>
    <% end %>
  </div>

</div>
